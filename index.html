<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title> Song of Ice and Fire Guessing Game!</title>
  </head>
  <body>
  <h1> Press any key to play</h1>
  <h1> "You play the game or you die."- Cersei Lannister</h1>
  <h1> Each word will be a character from Game of Thrones</h1><br><br>
  <h1> Mystery Word:</h1>
   <script type="text/javascript">

      
      // Variables for tracking wins, and losses both which begin at 0.
      var wins = 0;
      var losses = 0;

      // The array of possible letters by the player while playing the game.
      var alpha = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z"];
      var word = "temp";
      var underscore = [];
      var wordArray = [];

      var nameList = ["Cersei Lannister", "Twyin Lannister", "Jaime Lannister", "Tyrion Lannister", "Khal Drogo", "Viserys Targaryen", "Aemon Targaryen", "Daenerys Targaryen", "Rhaegar Targaryen", "Eddard Stark", "Rickon Stark", "Catelyn Stark", "Brandon Stark", "Benjen Stark", "Sandor Clegane", "Gregor Clegane", "Jon Snow", "Ramsay Bolton", "Roose Bolton", "Theon Greyjoy", "Asha Greyjoy", "Robert Baratheon", "Tommen Baratheon", "Joffrey Baratheon", "Myrcella Baratheon", "Renly Baratheon", "Margaery Tyrell", "Loras Tyrell", "Stannis Baratheon", "Oberyn Martell", "Ellaria Sand", "Doran Martell", "Jorah Mormont", "Jaqen Hghar", "Davos Seaworth", "Melisandre", "Daario Naharis", "Samwell Tarly", "Brienne of Tarth"]
    var selectedName = false;
    var random = 0;
    var index = 0;	
    var repeat = false;	
    var i = 0;
	var matches = 0;
	var match = true;
	var guessed = [];
	function selectedName() {
			rnd = Math.floor(Math.random() * nameList.length);
			word = nameList[rnd];
			SelectedName = true;

			for (i = 0; i < word.length; i++) {
				wordArray[i] = word.charAt(i);
				underscore[i] = " _";



       function keyPress(keySelect) {
			var keyValue = keySelect.key;

			// Picks a word if none has been picked
			if(!selectedName) {
				selectedName();
			}

			// Testing for duplicate guesses
			repeat = false;
			for (i = 0; i < guessed.length; i ++) {
				if (guessed[i] == " " + keyValue) {
					repeat = true;
				}
			}
			// Testing for alphabet characters
			letter = false;
			for(i = 0; i < alpha.length; i ++) {
					if(alpha[i] == keyValue) {
						letter = true;
					}
				}

			// If no duplicate guesses are found AND an alphabet character
			if (!repeat && letter) {
		
				// Testing for matching letters inside wordArray
				match = false;
				for(i = 0; i < wordArray.length; i ++) {
					if (wordArray[i] == keyValue) {
						underline[i] = " " + keyValue;

						matches ++;
						match = true;

						// Debugging in console
						console.log(matches + " of " + wordArray.length);

						// Testing for win condition
						if(matches == wordArray.length) {
							alert("You won!");
						}
					}
				}
			}
			// Sets "Current Word:" to blank so it can redraw correctly
			document.getElementById("correct").innerHTML = " ";
			// Updates "Current Word:" display without commas
			for( i = 0; i < underline.length; i ++) {
				document.getElementById("correct").innerHTML = document.getElementById("correct").innerHTML + " " + underline[i];
			}
		}
		// Run Code

		// Begin Event Listener!
		document.addEventListener("keyup", keyPress);
	</script>
</body>
</html>